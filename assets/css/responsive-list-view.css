/**
 * RESPONSIVE LIST VIEW - CSS MEJORADO
 * Versión reforzada con mayor especificidad y !important
 */

/* Forzar visualización de lista en dispositivos móviles */
@media only screen and (max-width: 768px) {
  /* Aplicar forzosamente 1 columna */
  html body .wc-productos-template ul.products,
  html body .wc-productos-template .productos-grid,
  html body.woocommerce .wc-productos-template ul.products,
  html body.woocommerce-page .wc-productos-template ul.products,
  html body .woocommerce .wc-productos-template ul.products,
  html body .wc-productos-template .productos-grid,
  html body .wc-productos-template .three-column-grid,
  html body .wc-productos-template .force-grid,
  body.wc-productos-template-page ul.products,
  body.wc-productos-template-page .productos-grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    grid-template-rows: auto !important;
    gap: 15px !important;
    width: 100% !important;
  }
  
  /* Forzar estructura horizontal en las tarjetas */
  html body .wc-productos-template ul.products li.product,
  html body .wc-productos-template .productos-grid li.product,
  html body.woocommerce .wc-productos-template ul.products li.product,
  html body.woocommerce-page .wc-productos-template ul.products li.product,
  html body .woocommerce .wc-productos-template ul.products li.product,
  body.wc-productos-template-page ul.products li.product,
  body.wc-productos-template-page .productos-grid li.product {
    display: flex !important;
    flex-direction: row !important;
    align-items: flex-start !important;
    height: auto !important;
    min-height: 150px !important;
  }
  
  /* Estructura interna */
  html body .wc-productos-template li.product .producto-interior {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    width: 100% !important;
    padding: 0 !important;
  }
  
  /* Contenedor de imagen */
  html body .wc-productos-template li.product .producto-imagen {
    width: 120px !important;
    min-width: 120px !important;
    max-width: 120px !important;
    margin: 0 15px 0 0 !important;
    flex-shrink: 0 !important;
    align-self: center !important;
  }

  html body .wc-productos-template li.product .producto-imagen img {
    height: auto !important;
    max-width: 100% !important;
    object-fit: contain !important;
  }
  
  /* Contenedor de info */
  html body .wc-productos-template li.product .producto-info {
    flex: 1 !important;
    padding: 10px 0 !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
    margin: 0 !important;
    width: calc(100% - 135px) !important;
  }
  
  /* Título */
  html body .wc-productos-template li.product .producto-titulo,
  html body .wc-productos-template li.product h2.woocommerce-loop-product__title {
    font-size: 14px !important;
    margin-bottom: 8px !important;
    line-height: 1.2 !important;
    margin-top: 0 !important;
  }
  
  /* SKU */
  html body .wc-productos-template li.product .producto-sku {
    font-size: 11px !important;
    margin-bottom: 5px !important;
  }
  
  /* Detalles */
  html body .wc-productos-template li.product .producto-detalles {
    font-size: 12px !important;
    margin-bottom: 8px !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 3px !important;
  }
  
  /* Footer */
  html body .wc-productos-template li.product .producto-footer {
    padding-top: 8px !important;
    margin-top: auto !important;
    flex-direction: row !important;
    justify-content: space-between !important;
    border-top: 1px solid #f0f0f0 !important;
  }
  
  /* Precio */
  html body .wc-productos-template li.product .producto-precio {
    font-size: 15px !important;
    margin-bottom: 0 !important;
  }
  
  /* Botón */
  html body .wc-productos-template li.product .producto-accion {
    width: auto !important;
    margin-left: auto !important;
  }
  
  html body .wc-productos-template li.product .producto-boton {
    padding: 6px 12px !important;
    font-size: 12px !important;
    white-space: nowrap !important;
  }
  
  /* Badges */
  html body .wc-productos-template li.product .producto-badges {
    top: 5px !important;
    left: 5px !important;
    z-index: 5 !important;
  }
}

/* Ajustes para dispositivos muy pequeños */
@media only screen and (max-width: 480px) {
  /* Imagen más pequeña */
  html body .wc-productos-template li.product .producto-imagen {
    width: 80px !important;
    min-width: 80px !important;
    max-width: 80px !important;
    margin-right: 10px !important;
  }
  
  /* Contenedor de info */
  html body .wc-productos-template li.product .producto-info {
    width: calc(100% - 90px) !important;
  }
  
  /* Título */
  html body .wc-productos-template li.product .producto-titulo,
  html body .wc-productos-template li.product h2.woocommerce-loop-product__title {
    font-size: 13px !important;
  }
  
  /* Botón */
  html body .wc-productos-template li.product .producto-boton {
    padding: 5px 8px !important;
    font-size: 11px !important;
  }
  
  /* Precio */
  html body .wc-productos-template li.product .producto-precio {
    font-size: 14px !important;
  }
}

/* Estilos adicionales para asegurar que no hay overflow */
html body .wc-productos-template li.product * {
  max-width: 100% !important;
}
